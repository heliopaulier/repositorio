{"name": "test_cadastro_visual", "status": "broken", "statusDetails": {"message": "pytesseract.pytesseract.TesseractNotFoundError: tesseract is not installed or it's not in your PATH. See README file for more information.", "trace": "input_filename = 'C:\\\\Users\\\\HELIO~1.PAU\\\\AppData\\\\Local\\\\Temp\\\\tess_60qypdqw_input.PNG'\noutput_filename_base = 'C:\\\\Users\\\\HELIO~1.PAU\\\\AppData\\\\Local\\\\Temp\\\\tess_60qypdqw', extension = 'txt', lang = 'por'\nconfig = '', nice = 0, timeout = 0\n\n    def run_tesseract(\n        input_filename,\n        output_filename_base,\n        extension,\n        lang,\n        config='',\n        nice=0,\n        timeout=0,\n    ):\n        cmd_args = []\n        not_windows = not (sys.platform == 'win32')\n    \n        if not_windows and nice != 0:\n            cmd_args += ('nice', '-n', str(nice))\n    \n        cmd_args += (tesseract_cmd, input_filename, output_filename_base)\n    \n        if lang is not None:\n            cmd_args += ('-l', lang)\n    \n        if config:\n            cmd_args += shlex.split(config, posix=not_windows)\n    \n        for _extension in extension.split():\n            if _extension not in {'box', 'osd', 'tsv', 'xml'}:\n                cmd_args.append(_extension)\n        LOGGER.debug('%r', cmd_args)\n    \n        try:\n>           proc = subprocess.Popen(cmd_args, **subprocess_args())\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nC:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pytesseract\\pytesseract.py:275: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\subprocess.py:1038: in __init__\n    self._execute_child(args, executable, preexec_fn, close_fds,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Popen: returncode: None args: ['tesseract', 'C:\\\\Users\\\\HELIO~1.PAU\\\\AppDat...>\nargs = 'tesseract C:\\\\Users\\\\HELIO~1.PAU\\\\AppData\\\\Local\\\\Temp\\\\tess_60qypdqw_input.PNG C:\\\\Users\\\\HELIO~1.PAU\\\\AppData\\\\Local\\\\Temp\\\\tess_60qypdqw -l por txt'\nexecutable = None, preexec_fn = None, close_fds = False, pass_fds = (), cwd = None\nenv = environ({'ACLOCAL_PATH': 'C:\\\\Program Files\\\\Git\\\\mingw64\\\\share\\\\aclocal;C:\\\\Program Files\\\\Git\\\\usr\\\\share\\\\aclocal'...test', 'PYTEST_VERSION': '9.0.1', 'PYTEST_CURRENT_TEST': 'tests/test_cadastro_visual.py::test_cadastro_visual (call)'})\nstartupinfo = <subprocess.STARTUPINFO object at 0x0000021AD272B750>, creationflags = 0, shell = False\np2cread = Handle(1200), p2cwrite = 16, c2pread = 17, c2pwrite = Handle(1456), errread = 18, errwrite = Handle(1468)\nunused_restore_signals = True, unused_gid = None, unused_gids = None, unused_uid = None, unused_umask = -1\nunused_start_new_session = False, unused_process_group = -1\n\n    def _execute_child(self, args, executable, preexec_fn, close_fds,\n                       pass_fds, cwd, env,\n                       startupinfo, creationflags, shell,\n                       p2cread, p2cwrite,\n                       c2pread, c2pwrite,\n                       errread, errwrite,\n                       unused_restore_signals,\n                       unused_gid, unused_gids, unused_uid,\n                       unused_umask,\n                       unused_start_new_session, unused_process_group):\n        \"\"\"Execute program (MS Windows version)\"\"\"\n    \n        assert not pass_fds, \"pass_fds not supported on Windows.\"\n    \n        if isinstance(args, str):\n            pass\n        elif isinstance(args, bytes):\n            if shell:\n                raise TypeError('bytes args is not allowed on Windows')\n            args = list2cmdline([args])\n        elif isinstance(args, os.PathLike):\n            if shell:\n                raise TypeError('path-like args is not allowed when '\n                                'shell is true')\n            args = list2cmdline([args])\n        else:\n            args = list2cmdline(args)\n    \n        if executable is not None:\n            executable = os.fsdecode(executable)\n    \n        # Process startup details\n        if startupinfo is None:\n            startupinfo = STARTUPINFO()\n        else:\n            # bpo-34044: Copy STARTUPINFO since it is modified above,\n            # so the caller can reuse it multiple times.\n            startupinfo = startupinfo.copy()\n    \n        use_std_handles = -1 not in (p2cread, c2pwrite, errwrite)\n        if use_std_handles:\n            startupinfo.dwFlags |= _winapi.STARTF_USESTDHANDLES\n            startupinfo.hStdInput = p2cread\n            startupinfo.hStdOutput = c2pwrite\n            startupinfo.hStdError = errwrite\n    \n        attribute_list = startupinfo.lpAttributeList\n        have_handle_list = bool(attribute_list and\n                                \"handle_list\" in attribute_list and\n                                attribute_list[\"handle_list\"])\n    \n        # If we were given an handle_list or need to create one\n        if have_handle_list or (use_std_handles and close_fds):\n            if attribute_list is None:\n                attribute_list = startupinfo.lpAttributeList = {}\n            handle_list = attribute_list[\"handle_list\"] = \\\n                list(attribute_list.get(\"handle_list\", []))\n    \n            if use_std_handles:\n                handle_list += [int(p2cread), int(c2pwrite), int(errwrite)]\n    \n            handle_list[:] = self._filter_handle_list(handle_list)\n    \n            if handle_list:\n                if not close_fds:\n                    warnings.warn(\"startupinfo.lpAttributeList['handle_list'] \"\n                                  \"overriding close_fds\", RuntimeWarning)\n    \n                # When using the handle_list we always request to inherit\n                # handles but the only handles that will be inherited are\n                # the ones in the handle_list\n                close_fds = False\n    \n        if shell:\n            startupinfo.dwFlags |= _winapi.STARTF_USESHOWWINDOW\n            startupinfo.wShowWindow = _winapi.SW_HIDE\n            if not executable:\n                # gh-101283: without a fully-qualified path, before Windows\n                # checks the system directories, it first looks in the\n                # application directory, and also the current directory if\n                # NeedCurrentDirectoryForExePathW(ExeName) is true, so try\n                # to avoid executing unqualified \"cmd.exe\".\n                comspec = os.environ.get('ComSpec')\n                if not comspec:\n                    system_root = os.environ.get('SystemRoot', '')\n                    comspec = os.path.join(system_root, 'System32', 'cmd.exe')\n                    if not os.path.isabs(comspec):\n                        raise FileNotFoundError('shell not found: neither %ComSpec% nor %SystemRoot% is set')\n                if os.path.isabs(comspec):\n                    executable = comspec\n            else:\n                comspec = executable\n    \n            args = '{} /c \"{}\"'.format (comspec, args)\n    \n        if cwd is not None:\n            cwd = os.fsdecode(cwd)\n    \n        sys.audit(\"subprocess.Popen\", executable, args, cwd, env)\n    \n        # Start the process\n        try:\n>           hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\n                                     # no special security\n                                     None, None,\n                                     int(not close_fds),\n                                     creationflags,\n                                     env,\n                                     cwd,\n                                     startupinfo)\nE                                    FileNotFoundError: [WinError 2] O sistema não pode encontrar o arquivo especificado\n\nC:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\subprocess.py:1550: FileNotFoundError\n\nDuring handling of the above exception, another exception occurred:\n\n    def test_cadastro_visual():\n        \"\"\"\n        Teste inicial:\n        1. Verifica campo Nome via template\n        2. Verifica botão Pesquisar via template\n        3. Extrai texto via OCR\n        \"\"\"\n    \n        with allure.step(\"Capturar screenshot\"):\n            screenshot = engine.screenshot()\n>           allure.attach(engine.extract_text(screenshot), \"ocr_raw\")\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_cadastro_visual.py:15: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nengine\\engine.py:32: in extract_text\n    text = pytesseract.image_to_string(image, lang=\"por\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pytesseract\\pytesseract.py:486: in image_to_string\n    return {\nC:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pytesseract\\pytesseract.py:489: in <lambda>\n    Output.STRING: lambda: run_and_get_output(*args),\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pytesseract\\pytesseract.py:352: in run_and_get_output\n    run_tesseract(**kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ninput_filename = 'C:\\\\Users\\\\HELIO~1.PAU\\\\AppData\\\\Local\\\\Temp\\\\tess_60qypdqw_input.PNG'\noutput_filename_base = 'C:\\\\Users\\\\HELIO~1.PAU\\\\AppData\\\\Local\\\\Temp\\\\tess_60qypdqw', extension = 'txt', lang = 'por'\nconfig = '', nice = 0, timeout = 0\n\n    def run_tesseract(\n        input_filename,\n        output_filename_base,\n        extension,\n        lang,\n        config='',\n        nice=0,\n        timeout=0,\n    ):\n        cmd_args = []\n        not_windows = not (sys.platform == 'win32')\n    \n        if not_windows and nice != 0:\n            cmd_args += ('nice', '-n', str(nice))\n    \n        cmd_args += (tesseract_cmd, input_filename, output_filename_base)\n    \n        if lang is not None:\n            cmd_args += ('-l', lang)\n    \n        if config:\n            cmd_args += shlex.split(config, posix=not_windows)\n    \n        for _extension in extension.split():\n            if _extension not in {'box', 'osd', 'tsv', 'xml'}:\n                cmd_args.append(_extension)\n        LOGGER.debug('%r', cmd_args)\n    \n        try:\n            proc = subprocess.Popen(cmd_args, **subprocess_args())\n        except OSError as e:\n            if e.errno != ENOENT:\n                raise\n            else:\n>               raise TesseractNotFoundError()\nE               pytesseract.pytesseract.TesseractNotFoundError: tesseract is not installed or it's not in your PATH. See README file for more information.\n\nC:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pytesseract\\pytesseract.py:280: TesseractNotFoundError"}, "description": "\nTeste inicial:\n1. Verifica campo Nome via template\n2. Verifica botão Pesquisar via template\n3. Extrai texto via OCR\n", "steps": [{"name": "Capturar screenshot", "status": "broken", "statusDetails": {"message": "pytesseract.pytesseract.TesseractNotFoundError: tesseract is not installed or it's not in your PATH. See README file for more information.\n", "trace": "  File \"D:\\repositorio\\automate-oracle-forms-gpt\\automte-si3-v2\\tests\\test_cadastro_visual.py\", line 15, in test_cadastro_visual\n    allure.attach(engine.extract_text(screenshot), \"ocr_raw\")\n                  ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\repositorio\\automate-oracle-forms-gpt\\automte-si3-v2\\engine\\engine.py\", line 32, in extract_text\n    text = pytesseract.image_to_string(image, lang=\"por\")\n  File \"C:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pytesseract\\pytesseract.py\", line 486, in image_to_string\n    return {\n           ~\n    ...<2 lines>...\n        Output.STRING: lambda: run_and_get_output(*args),\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    }[output_type]()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pytesseract\\pytesseract.py\", line 489, in <lambda>\n    Output.STRING: lambda: run_and_get_output(*args),\n                           ~~~~~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pytesseract\\pytesseract.py\", line 352, in run_and_get_output\n    run_tesseract(**kwargs)\n    ~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\helio.paulier\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pytesseract\\pytesseract.py\", line 280, in run_tesseract\n    raise TesseractNotFoundError()\n"}, "start": 1764858723779, "stop": 1764858724460}], "start": 1764858723779, "stop": 1764858724465, "uuid": "d59d9f20-0fee-4842-a699-3b693f16c06f", "historyId": "ccacd11c1ee1f168358e61693e76a056", "testCaseId": "ccacd11c1ee1f168358e61693e76a056", "fullName": "tests.test_cadastro_visual#test_cadastro_visual", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_cadastro_visual"}, {"name": "host", "value": "utinfo-66"}, {"name": "thread", "value": "29236-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_cadastro_visual"}], "titlePath": ["tests", "test_cadastro_visual.py"]}